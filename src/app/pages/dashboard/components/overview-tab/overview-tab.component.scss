@use 'src/styles/theme' as *;

.overview-container {
  display: flex;
  flex-direction: column;
  gap: 20px;
  height: 100%;
  overflow-y: auto;
  padding-bottom: 20px;
  width: 100%;
}

.loading-state {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;

  .skeleton-card {
    height: 200px;
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.05) 25%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.05) 75%);
    background-size: 200% 100%;
    border-radius: 16px;
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
}

.overview-content {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

// TOP ROW
.top-row {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr;
  gap: 20px;
  width: 100%;

  @media (max-width: 1200px) {
    grid-template-columns: 1fr 1fr;
    
    .balance-card {
      grid-column: 1 / -1;
    }
  }

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    
    .stat-card {
      grid-column: 1;
    }
  }
}

// BALANCE CARD
.balance-card {
  background: linear-gradient(135deg, #D4F6CF 0%, #F5F3A7 100%);
  border-radius: 24px;
  padding: 24px;
  color: #1a1a1a;
  position: relative;
  overflow: hidden;
  min-width: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 280px;

  .balance-label {
    font-size: 14px;
    color: #4a5568;
    font-weight: 500;
  }

  .balance-amount {
    font-size: 48px;
    font-weight: 700;
    margin: 12px 0;
    color: #000;

    sup {
      font-size: 24px;
      top: -20px;
    }
  }

  .balance-change {
    font-size: 13px;
    color: #4a5568;
    margin-bottom: 24px;
  }

  .balance-actions {
    display: flex;
    gap: 12px;

    button {
      padding: 12px 24px;
      border-radius: 30px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 14px;
    }

    .btn-transfer {
      background: #000;
      color: #fff;

      &:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }
    }

    .btn-topup {
      background: rgba(255, 255, 255, 0.8);
      color: #000;
      display: flex;
      align-items: center;
      gap: 6px;

      &:hover {
        background: #fff;
      }
    }
  }
}

// STATS CARDS
.stat-card {
  background: #2d3748;
  border-radius: 16px;
  padding: 24px;
  min-width: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  min-height: 200px;

  &.stat-income {
    background: #2a3f3a;
  }

  &.stat-expense {
    background: #3a2d2f;
  }

  .stat-label {
    font-size: 13px;
    color: #9fa8c0;
    display: block;
    margin-bottom: 8px;
  }

  .stat-value {
    font-size: 32px;
    font-weight: 700;
    color: #fff;
    display: block;
    margin-bottom: 12px;

    sup {
      font-size: 18px;
      top: -8px;
    }
  }

  .stat-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    color: #9fa8c0;
  }

  .badge-up {
    background: rgba(52, 211, 153, 0.2);
    color: #34d399;
    padding: 4px 10px;
    border-radius: 12px;
    font-weight: 600;
  }

  .badge-down {
    background: rgba(248, 113, 113, 0.2);
    color: #f87171;
    padding: 4px 10px;
    border-radius: 12px;
    font-weight: 600;
  }
}

// MY CARDS SECTION
.my-cards-section {
  background: #2a2f3f;
  border-radius: 20px;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  min-width: 0;

  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 16px;
    font-weight: 600;
    color: #e2e8f0;

    sup {
      font-size: 12px;
      color: #9fa8c0;
    }

    .btn-add {
      background: #fff;
      color: #000;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;

      &:hover {
        transform: scale(1.05);
      }
    }

    a {
      color: #9fa8c0;
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;

      &:hover {
        color: #e2e8f0;
      }
    }
  }

  .cards-stack {
    position: relative;
    height: 180px;
    margin-bottom: 8px;
  }

  .credit-card {
    position: absolute;
    width: 100%;
    height: 160px;
    border-radius: 16px;
    padding: 20px;
    transition: all 0.3s;
    cursor: pointer;

    &.card-1 {
      background: linear-gradient(135deg, #FF8A65, #FF6E40);
      top: 0;
      right: 8%;
      width: 84%;
      z-index: 1;
    }

    &.card-2 {
      background: linear-gradient(135deg, #B2DFDB, #80CBC4);
      top: 8px;
      right: 4%;
      width: 92%;
      z-index: 2;

      .card-logo {
        font-size: 14px;
        font-weight: 700;
        color: #fff;
        margin-bottom: 60px;
      }
    }

    &.card-3 {
      background: linear-gradient(135deg, #B39DDB, #9575CD);
      top: 16px;
      right: 0;
      width: 100%;
      z-index: 3;

      .card-brand {
        font-size: 18px;
        font-weight: 700;
        color: #fff;
        margin-bottom: 4px;
      }

      .card-num-small {
        font-size: 16px;
        color: #fff;
        display: block;
        margin-bottom: 24px;
      }

      .card-number-large {
        font-size: 18px;
        color: #fff;
        letter-spacing: 2px;
        margin-bottom: 16px;
      }

      .card-footer {
        display: flex;
        justify-content: space-between;
        font-size: 13px;
        color: #fff;
      }
    }

    .card-num {
      font-size: 16px;
      color: #fff;
      position: absolute;
      bottom: 20px;
      right: 20px;
    }

    &:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    }
  }

  .subscriptions {
    .sub-icons {
      display: flex;
      gap: 12px;
      margin: 16px 0;
    }

    .sub-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;

      &.discord {
        background: #5865F2;
      }

      &.apple {
        background: #000;
      }

      &.spotify {
        background: #1DB954;
      }

      &.duolingo {
        background: #58CC02;
      }

      &.telegram {
        background: #0088CC;
      }
    }

    .sub-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .sub-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 12px;
      transition: all 0.2s;

      &:hover {
        background: rgba(255, 255, 255, 0.06);
      }

      .sub-icon-sm {
        width: 32px;
        height: 32px;
        border-radius: 8px;
        flex-shrink: 0;

        &.apple { background: #000; }
        &.discord { background: #5865F2; }
        &.telegram { background: #0088CC; }
        &.spotify { background: #1DB954; }
      }

      .sub-info {
        flex: 1;

        div:first-child {
          font-size: 14px;
          font-weight: 500;
          color: #e2e8f0;
        }

        .sub-date {
          font-size: 12px;
          color: #9fa8c0;
        }
      }

      .sub-price {
        font-size: 16px;
        font-weight: 600;
        color: #e2e8f0;
        margin-right: 8px;
      }

      .sub-menu {
        background: none;
        border: none;
        color: #9fa8c0;
        cursor: pointer;
        font-size: 20px;
        padding: 0 8px;

        &:hover {
          color: #e2e8f0;
        }
      }
    }
  }
}

// BOTTOM ROW
.bottom-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  width: 100%;

  @media (max-width: 1400px) {
    grid-template-columns: 1fr 1fr;

    .transactions {
      grid-column: 1 / -1;
    }
  }

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
    
    .chart-card {
      grid-column: 1;
    }
  }
}

// CHART CARDS
.chart-card {
  background: #2a2f3f;
  border-radius: 20px;
  padding: 24px;
  min-width: 0;
  width: 100%;

  .chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;

    h3 {
      font-size: 18px;
      font-weight: 600;
      color: #e2e8f0;
      margin: 0;

      sup {
        font-size: 12px;
        color: #9fa8c0;
        font-weight: 400;
      }
    }

    .controls {
      display: flex;
      gap: 8px;

      button {
        padding: 6px 14px;
        border-radius: 8px;
        border: none;
        background: rgba(255, 255, 255, 0.05);
        color: #9fa8c0;
        font-size: 12px;
        cursor: pointer;
        transition: all 0.2s;

        &.active {
          background: rgba(108, 139, 255, 0.2);
          color: #6C8BFF;
        }

        &.refresh {
          width: 32px;
          height: 32px;
          padding: 0;
          display: flex;
          align-items: center;
          justify-content: center;

          &:hover {
            transform: rotate(180deg);
          }
        }
      }
    }

    select {
      padding: 6px 12px;
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.05);
      color: #e2e8f0;
      font-size: 13px;
      cursor: pointer;
    }

    a {
      color: #9fa8c0;
      text-decoration: none;
      font-size: 13px;

      &:hover {
        color: #e2e8f0;
      }
    }
  }
}

// BAR CHART
.bar-chart {
  display: flex;
  align-items: flex-end;
  justify-content: space-around;
  height: 200px;
  gap: 12px;
  padding: 20px 0;
  position: relative;

  .bar {
    flex: 1;
    background: linear-gradient(180deg, #A78BFA 0%, #7C3AED 100%);
    border-radius: 8px 8px 0 0;
    position: relative;
    transition: all 0.3s;
    min-height: 40px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: center;

    &.active {
      background: linear-gradient(180deg, #34D399 0%, #10B981 100%);

      .bar-highlight {
        position: absolute;
        top: -60px;
        background: rgba(255, 255, 255, 0.1);
        padding: 8px 12px;
        border-radius: 8px;
        backdrop-filter: blur(10px);
        font-size: 12px;
        color: #e2e8f0;
        text-align: center;

        .perc {
          color: #34D399;
          font-weight: 600;
        }
      }
    }

    .bar-label {
      position: absolute;
      bottom: -24px;
      font-size: 12px;
      color: #9fa8c0;
    }

    .bar-value {
      position: absolute;
      top: -20px;
      font-size: 10px;
      color: #9fa8c0;
      white-space: nowrap;
    }

    &:hover {
      transform: scaleY(1.05);
      filter: brightness(1.2);
    }
  }
}

// DONUT CHART
.donut-container {
  display: flex;
  gap: 24px;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;

  @media (max-width: 900px) {
    flex-direction: column;
  }

  .donut-chart {
    position: relative;
    width: 200px;
    height: 200px;
    flex-shrink: 0;

    svg {
      width: 100%;
      height: 100%;
    }

    .donut-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;

      div:first-child {
        font-size: 13px;
        color: #9fa8c0;
        margin-bottom: 4px;
      }

      .donut-value {
        font-size: 28px;
        font-weight: 700;
        color: #e2e8f0;

        sup {
          font-size: 14px;
        }
      }
    }
  }

  .legend {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8px;
    min-width: 200px;

    .legend-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    div {
      font-size: 13px;
      color: #9fa8c0;
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;

      .dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        flex-shrink: 0;

        &.food { background: #FFD93D; }
        &.ent { background: #60A5FA; }
        &.health { background: #F472B6; }
        &.transport { background: #A78BFA; }
        &.bills { background: #34D399; }
        &.misc { background: #FBBF24; }
      }

      span:last-child {
        margin-left: auto;
        color: #e2e8f0;
        font-weight: 600;
      }
    }
  }
}

// TRANSACTIONS
.transactions {
  .trans-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .trans-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    transition: all 0.2s;

    &:hover {
      background: rgba(255, 255, 255, 0.06);
    }

    .trans-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(108, 139, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      flex-shrink: 0;
    }

    .trans-info {
      flex: 1;

      div:first-child {
        font-size: 14px;
        font-weight: 500;
        color: #e2e8f0;
        margin-bottom: 4px;
      }

      .trans-status {
        font-size: 11px;
        padding: 3px 8px;
        border-radius: 8px;
        display: inline-block;
        font-weight: 500;

        &.status-success {
          background: rgba(52, 211, 153, 0.15);
          color: #34D399;
        }

        &.status-pending {
          background: rgba(251, 191, 36, 0.15);
          color: #FBBF24;
        }

        &.status-failed {
          background: rgba(248, 113, 113, 0.15);
          color: #F87171;
        }
      }
    }

    .trans-details {
      text-align: right;

      div:first-child {
        font-size: 12px;
        color: #9fa8c0;
        margin-bottom: 4px;
      }

      .trans-id {
        font-size: 11px;
        color: #6b7280;
      }
    }

    .trans-amount {
      font-size: 16px;
      font-weight: 600;
      color: #34D399;
      margin: 0 12px;

      &.negative {
        color: #F87171;
      }
    }

    .trans-menu {
      background: none;
      border: none;
      color: #9fa8c0;
      cursor: pointer;
      font-size: 20px;
      padding: 0 8px;

      &:hover {
        color: #e2e8f0;
      }
    }
  }
}

// BUDGET TRACKER
.budget-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
  width: 100%;
}

.budget-card {
  .budget-bars {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding: 8px 0;
  }

  .budget-item {
    display: flex;
    flex-direction: column;
    gap: 8px;

    .budget-info {
      display: flex;
      justify-content: space-between;
      align-items: center;

      .budget-category {
        font-size: 14px;
        font-weight: 500;
        color: #e2e8f0;
      }

      .budget-amount {
        font-size: 12px;
        color: #9fa8c0;
        font-weight: 500;
      }
    }

    .budget-bar-container {
      display: flex;
      align-items: center;
      gap: 12px;

      .budget-bar-bg {
        flex: 1;
        height: 12px;
        background: rgba(255, 255, 255, 0.08);
        border-radius: 6px;
        overflow: hidden;
        position: relative;

        .budget-bar-fill {
          height: 100%;
          background: linear-gradient(90deg, #60A5FA, #3B82F6);
          border-radius: 6px;
          transition: width 0.6s ease-in-out;
          position: relative;

          &::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
          }

          &.warning {
            background: linear-gradient(90deg, #FBBF24, #F59E0B);
          }

          &.good {
            background: linear-gradient(90deg, #34D399, #10B981);
          }
        }
      }

      .budget-percentage {
        font-size: 12px;
        font-weight: 600;
        color: #9fa8c0;
        min-width: 40px;
        text-align: right;
      }
    }
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

